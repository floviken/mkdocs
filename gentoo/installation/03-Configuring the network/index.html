
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://floviken.github.io/mkdocs/gentoo/installation/03-Configuring%20the%20network/">
      
      
        <link rel="prev" href="../02-Choosing%20the%20right%20installation%20medium/">
      
      
        <link rel="next" href="../04-Preparing%20the%20disks/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>Configuring the network - KaboliDocs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Configuring the network - KaboliDocs" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="https://floviken.github.io/mkdocs/assets/images/social/gentoo/installation/03-Configuring the network.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://floviken.github.io/mkdocs/gentoo/installation/03-Configuring%20the%20network/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Configuring the network - KaboliDocs" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="https://floviken.github.io/mkdocs/assets/images/social/gentoo/installation/03-Configuring the network.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuring-the-network" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="KaboliDocs" class="md-header__button md-logo" aria-label="KaboliDocs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KaboliDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuring the network
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Welcome to MkDocs
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../ssh/" class="md-tabs__link">
      SSH setup
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Gentoo
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="KaboliDocs" class="md-nav__button md-logo" aria-label="KaboliDocs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    KaboliDocs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Welcome to MkDocs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../ssh/" class="md-nav__link">
        SSH setup
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Gentoo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Gentoo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        gentoo handbook
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../01-About%20the%20Gentoo%20Linux%20Installation/" class="md-nav__link">
        About the Gentoo Linux Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../010-Configuring%20the%20bootloader/" class="md-nav__link">
        Configuring the bootloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../02-Choosing%20the%20right%20installation%20medium/" class="md-nav__link">
        Choosing the right installation medium
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuring the network
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuring the network
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#automatic-network-detection" class="md-nav__link">
    Automatic network detection
  </a>
  
    <nav class="md-nav" aria-label="Automatic network detection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#determine-interface-names" class="md-nav__link">
    Determine interface names
  </a>
  
    <nav class="md-nav" aria-label="Determine interface names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ifconfig-command" class="md-nav__link">
    ifconfig command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-command" class="md-nav__link">
    ip command
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-configure-any-proxies" class="md-nav__link">
    Optional: Configure any proxies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-the-network" class="md-nav__link">
    Testing the network
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-network-configuration" class="md-nav__link">
    Automatic network configuration
  </a>
  
    <nav class="md-nav" aria-label="Automatic network configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-using-net-setup" class="md-nav__link">
    Default: Using net-setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-using-ppp" class="md-nav__link">
    Alternative: Using PPP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-using-pptp" class="md-nav__link">
    Alternative: Using PPTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-network-configuration" class="md-nav__link">
    Manual network configuration
  </a>
  
    <nav class="md-nav" aria-label="Manual network configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loading-the-appropriate-network-kernel-modules" class="md-nav__link">
    Loading the appropriate network kernel modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-dhcp" class="md-nav__link">
    Using DHCP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparing-for-wireless-access" class="md-nav__link">
    Preparing for wireless access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-network-terminology" class="md-nav__link">
    Understanding network terminology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-ifconfig-and-route" class="md-nav__link">
    Using ifconfig and route
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../04-Preparing%20the%20disks/" class="md-nav__link">
        Preparing the disks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../05-Installing%20the%20Gentoo%20installation%20files/" class="md-nav__link">
        Installing the Gentoo installation files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../06-Installing%20the%20Gentoo%20base%20system/" class="md-nav__link">
        Installing the Gentoo base system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../07-Configuring%20the%20linux%20kernel/" class="md-nav__link">
        Configuring the Linux kernel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../08-Configuring%20the%20system/" class="md-nav__link">
        Configuring the system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../09-Installing%20system%20tools/" class="md-nav__link">
        Installing system tools
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Working with gentoo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Working with gentoo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_gentoo/01-Portage/" class="md-nav__link">
        Working with Gentoo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_gentoo/02-Use/" class="md-nav__link">
        What are USE flags
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_gentoo/03-Features/" class="md-nav__link">
        Portage features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_gentoo/04-Initscripts/" class="md-nav__link">
        Runlevels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_gentoo/05-EnvVar/" class="md-nav__link">
        Environment variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Working with portage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Working with portage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../working_with_portage/01-Files/" class="md-nav__link">
        01 Files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="configuring-the-network">Configuring the network</h1>
<h2 id="automatic-network-detection">Automatic network detection</h2>
<p>Maybe it just works?</p>
<p>If the system is plugged into an Ethernet network with a DHCP server, it is very likely that the networking configuration has already been set up automatically. If so, then the many included network-aware commands on the installation media such as ssh, scp, ping, irssi, wget, and links, among others, will work immediately.</p>
<h3 id="determine-interface-names">Determine interface names</h3>
<h4 id="ifconfig-command">ifconfig command</h4>
<p>If networking has been configured, the ifconfig command should list one or more network interfaces (besides lo).
In the example below eth0 shows up :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>root<span class="w"> </span><span class="c1"># ifconfig</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>eth0<span class="w">      </span>Link<span class="w"> </span>encap:Ethernet<span class="w">  </span>HWaddr<span class="w"> </span><span class="m">00</span>:50:BA:8F:61:7A
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">          </span>inet<span class="w"> </span>addr:192.168.0.2<span class="w">  </span>Bcast:192.168.0.255<span class="w">  </span>Mask:255.255.255.0
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">          </span>inet6<span class="w"> </span>addr:<span class="w"> </span>fe80::50:ba8f:617a/10<span class="w"> </span>Scope:Link
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">          </span>UP<span class="w"> </span>BROADCAST<span class="w"> </span>RUNNING<span class="w"> </span>MULTICAST<span class="w">  </span>MTU:1500<span class="w">  </span>Metric:1
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">          </span>RX<span class="w"> </span>packets:1498792<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>frame:0
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">          </span>TX<span class="w"> </span>packets:1284980<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>carrier:0
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">          </span>collisions:1984<span class="w"> </span>txqueuelen:100
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">          </span>RX<span class="w"> </span>bytes:485691215<span class="w"> </span><span class="o">(</span><span class="m">463</span>.1<span class="w"> </span>Mb<span class="o">)</span><span class="w">  </span>TX<span class="w"> </span>bytes:123951388<span class="w"> </span><span class="o">(</span><span class="m">118</span>.2<span class="w"> </span>Mb<span class="o">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">          </span>Interrupt:11<span class="w"> </span>Base<span class="w"> </span>address:0xe800<span class="w"> </span>
</code></pre></div>
<p>As a result of the shift towards predictable network interface names, the interface name on the system can be quite different from the old eth0 naming convention. Recent installation media might show regular network interfaces names like eno0, ens1, or enp5s0. Look for the interface in the ifconfig output that has an IP address related to the local network.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
</div>
<p><code>If no interfaces are displayed when the standard ifconfig command is used, try using the same command with the -a option. This option forces the utility to show all network interfaces detected by the system whether they be in an up or down state. If ifconfig -a produces no results then the hardware is faulty or the driver for the interface has not been loaded into the kernel. Both situations reach beyond the scope of this Handbook. Contact #gentoo (webchat) for support.</code></p>
<h4 id="ip-command">ip command</h4>
<p>As an alternative to <strong>ifconfig</strong>, the <strong>ip</strong> command can be used to determine interface names. The following example shows the output of <strong>ip addr</strong> (of another system so the information shown is different from the previous example):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>root<span class="w"> </span><span class="c1"># ip addr</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="m">2</span>:<span class="w"> </span>eno1:<span class="w"> </span>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>pfifo_fast<span class="w"> </span>state<span class="w"> </span>UP<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">1000</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span>link/ether<span class="w"> </span>e8:40:f2:ac:25:7a<span class="w"> </span>brd<span class="w"> </span>ff:ff:ff:ff:ff:ff
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span>inet<span class="w"> </span><span class="m">10</span>.0.20.77/22<span class="w"> </span>brd<span class="w"> </span><span class="m">10</span>.0.23.255<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>eno1
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span>inet6<span class="w"> </span>fe80::ea40:f2ff:feac:257a/64<span class="w"> </span>scope<span class="w"> </span>link<span class="w"> </span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
</code></pre></div>
<p>The interface name in the above example directly follows the number; it is eno1.</p>
<p>In the remainder of this document, the handbook will assume that the operating network interface is called eth0.</p>
<h3 id="optional-configure-any-proxies">Optional: Configure any proxies</h3>
<p>If the Internet is accessed through a proxy, then it is necessary to set up proxy information during the installation. It is very easy to define a proxy: just define a variable which contains the proxy server information.</p>
<p>In most cases, it is sufficient to define the variables using the server hostname. As an example, we assume the proxy is called proxy.gentoo.org and the port is 8080.</p>
<p>To set up an HTTP proxy (for HTTP and HTTPS traffic):</p>
<p><code>root # export http_proxy="http://proxy.gentoo.org:8080"</code></p>
<p>To set up an FTP proxy:</p>
<p><code>root # export ftp_proxy="ftp://proxy.gentoo.org:8080"</code></p>
<p>To set up an RSYNC proxy:</p>
<p><code>root # export RSYNC_PROXY="proxy.gentoo.org:8080"</code></p>
<p>If the proxy requires a username and password, use the following syntax for the variable:</p>
<div class="highlight"><span class="filename">CODE Adding username/password to the proxy variable</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>http://username:password@proxy.gentoo.org:8080
</code></pre></div>
<h3 id="testing-the-network">Testing the network</h3>
<p>Try pinging your ISP's DNS server (found in /etc/resolv.conf) and a web site of choice. This ensures that the network is functioning properly and that the network packets are reaching the net, DNS name resolution is working correctly, etc.</p>
<p><code>root # ping -c 3 www.gentoo.org</code></p>
<p>If this all works, then the remainder of this chapter can be skipped to jump right to the next step of the installation instructions (<a href="docs/gentoo/installation/">Preparing the disks</a>).</p>
<h2 id="automatic-network-configuration">Automatic network configuration</h2>
<p>If the network doesn't work immediately, some installation media allow the user to use <strong>net-setup</strong> (for regular or wireless networks), <strong>pppoe-setup</strong> (for ADSL users) or <strong>pptp</strong> (for PPTP users).</p>
<p>If the installation medium does not contain any of these tools, continue with the <a href="## Manual network configuration">Manual network configuration</a>.</p>
<ul>
<li>Regular Ethernet users should continue with <a href="###Default: Using net-setup">Default: Using net-setup</a></li>
<li>ADSL users should continue with <a href="### Alternative: Using PPP">Alternative: Using PPP</a></li>
<li>PPTP users should continue with <a href="### Alternative: Using PPTP">Alternative: Using PPTP</a></li>
</ul>
<h3 id="default-using-net-setup">Default: Using net-setup</h3>
<p>The simplest way to set up networking if it didn't get configured automatically is to run the <strong>net-setup script</strong>:</p>
<p><code>root # net-setup eth0</code></p>
<p><strong>net-setup</strong> will ask some questions about the network environment. When all is done, the network connection should work. Test the network connection as stated before. If the tests are positive, congratulations! Skip the rest of this section and continue with Preparing the disks.</p>
<p>If the network still doesn't work, continue with Manual network configuration.</p>
<h3 id="alternative-using-ppp">Alternative: Using PPP</h3>
<p>Assuming PPPoE is needed to connect to the Internet, the installation CD (any version) has made things easier by including ppp. Use the provided <strong>pppoe-setup</strong> script to configure the connection. During the setup the Ethernet device that is connected to your ADSL modem, the username and password, the IPs of the DNS servers and if a basic firewall is needed or not will be asked.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>root<span class="w"> </span><span class="c1"># pppoe-setup</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>root<span class="w"> </span><span class="c1"># pppoe-start</span>
</code></pre></div>
<p>If something goes wrong, double-check that the username and password are correct by looking at etc/ppp/pap-secrets or /etc/ppp/chap-secrets and make sure to use the right Ethernet device. If the Ethernet device does not exist, the appropriate network modules need to be loaded. In that case continue with Manual network configuration<a href="## Manual network configuration">Manual network configuration</a> as it will explain how to load the appropriate network modules there.</p>
<p>If everything worked, continue with Preparing the disks.</p>
<h3 id="alternative-using-pptp">Alternative: Using PPTP</h3>
<p>If PPTP support is needed, use <strong>pptpclient</strong> which is provided by the installation CDs. But first make sure that the configuration is correct. Edit /etc/ppp/pap-secrets or /etc/ppp/chap-secrets so it contains the correct username/password combination:</p>
<p><code>root # nano -w /etc/ppp/chap-secrets</code></p>
<p>Then adjust /etc/ppp/options.pptp if necessary:</p>
<p><code>root # nano -w /etc/ppp/options.pptp</code></p>
<p>When all that is done, run pptp (along with the options that couldn't be set in options.pptp) to connect the server:</p>
<p><code>root # pptp &lt;server ipv4 address&gt;</code></p>
<p>Now continue with Preparing the disks.</p>
<h2 id="manual-network-configuration">Manual network configuration</h2>
<h3 id="loading-the-appropriate-network-kernel-modules">Loading the appropriate network kernel modules</h3>
<p>When the Installation CD boots, it tries to detect all the hardware devices and loads the appropriate kernel modules (drivers) to support the hardware. In the vast majority of cases, it does a very good job. However, in some cases, it may not auto-load the kernel modules needed to communicate properly with the present network hardware.</p>
<p>If <code>net-setup</code> or <code>pppoe-setup</code> failed, then it is possible that the network card wasn't found immediately. This means users may have to load the appropriate kernel modules manually.</p>
<p>To find out what kernel modules are provided for networking, use the ls command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>root<span class="w"> </span><span class="c1"># ls /lib/modules/`uname -r`/kernel/drivers/net</span>
</code></pre></div>
<p>If a driver is found for the network device, use modprobe to load the kernel module. For instance, to load the pcnet32 module:</p>
<p><code>root # modprobe pcnet32</code></p>
<p>To check if the network card is now detected, use <strong>ifconfig</strong>. A detected network card would result in something like this (again, eth0 here is just an example):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>root<span class="w"> </span><span class="c1"># ifconfig eth0</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>eth0<span class="w">      </span>Link<span class="w"> </span>encap:Ethernet<span class="w">  </span>HWaddr<span class="w"> </span>FE:FD:00:00:00:00<span class="w">  </span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">          </span>BROADCAST<span class="w"> </span>NOARP<span class="w"> </span>MULTICAST<span class="w">  </span>MTU:1500<span class="w">  </span>Metric:1
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">          </span>RX<span class="w"> </span>packets:0<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>frame:0
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">          </span>TX<span class="w"> </span>packets:0<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>carrier:0
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">          </span>collisions:0<span class="w"> </span>txqueuelen:0<span class="w"> </span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">          </span>RX<span class="w"> </span>bytes:0<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>b<span class="o">)</span><span class="w">  </span>TX<span class="w"> </span>bytes:0<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>b<span class="o">)</span>
</code></pre></div>
<p>If however the following error is shown, the network card is not detected:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>root<span class="w"> </span><span class="c1"># ifconfig eth0</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>eth0:<span class="w"> </span>error<span class="w"> </span>fetching<span class="w"> </span>interface<span class="w"> </span>information:<span class="w"> </span>Device<span class="w"> </span>not<span class="w"> </span>found
</code></pre></div>
<p>The available network interface names on the system can be listed through the /sys file system:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>root<span class="w"> </span><span class="c1">#ls /sys/class/net</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>dummy0<span class="w">  </span>eth0<span class="w">  </span>lo<span class="w">  </span>sit0<span class="w">  </span>tap0<span class="w">  </span>wlan0
</code></pre></div>
<p>In the above example, 6 interfaces are found. The eth0 one is most likely the (wired) Ethernet adapter whereas wlan0 is the wireless one.</p>
<p>Assuming that the network card is now detected, retry <strong>net-setup</strong> or <strong>pppoe-setup</strong> again (which should work now), but for the hardcore people we explain how to configure the network manually as well.</p>
<p>Select one of the following sections based on your network setup:</p>
<p>Using DHCP for automatic IP retrieval
Preparing for wireless access if a wireless network is used
Understanding network terminology explains the basics about networking
Using ifconfig and route explains how to set up networking manually</p>
<h3 id="using-dhcp">Using DHCP</h3>
<p>DHCP (Dynamic Host Configuration Protocol) makes it possible to automatically receive networking information (IP address, netmask, broadcast address, gateway, nameservers etc.). This only works if a DHCP server is in the network (or if the ISP provider provides a DHCP service). To have a network interface receive this information automatically, use <strong>dhcpcd</strong>:</p>
<p><code>root # dhcpcd eth0</code></p>
<p>Some network administrators require that the hostname and domainname provided by the DHCP server is used by the system. In that case, use:</p>
<p><code>root # dhcpcd -HD eth0</code></p>
<p>If this works (try pinging some Internet server, like Google's 8.8.8.8 or Cloudflare's 1.1.1.1), then everything is set and ready to continue. Skip the rest of this section and continue with Preparing the disks.</p>
<h3 id="preparing-for-wireless-access">Preparing for wireless access</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Support for the iw command might be architecture-specific. If the command is not available see if the net-wireless/iw package is available for the current architecture. The **iw** command will be unavailable unless the net-wireless/iw package has been installed.
</code></pre></div>
<p>When using a wireless (802.11) card, the wireless settings need to be configured before going any further. To see the current wireless settings on the card, one can use iw. Running iw might show something like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>root<span class="w"> </span><span class="c1"># iw dev wlp9s0 info</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Interface<span class="w"> </span>wlp9s0
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span>ifindex<span class="w"> </span><span class="m">3</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span>wdev<span class="w"> </span>0x1
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span>addr<span class="w"> </span><span class="m">00</span>:00:00:00:00:00
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="nb">type</span><span class="w"> </span>managed
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span>wiphy<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span>channel<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span><span class="m">2462</span><span class="w"> </span>MHz<span class="o">)</span>,<span class="w"> </span>width:<span class="w"> </span><span class="m">20</span><span class="w"> </span>MHz<span class="w"> </span><span class="o">(</span>no<span class="w"> </span>HT<span class="o">)</span>,<span class="w"> </span>center1:<span class="w"> </span><span class="m">2462</span><span class="w"> </span>MHz
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span>txpower<span class="w"> </span><span class="m">30</span>.00<span class="w"> </span>dBm
</code></pre></div>
<p>To check for a current connection:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>root<span class="w"> </span><span class="c1"># iw dev wlp9s0 link</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Not<span class="w"> </span>connected.
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>root # iw dev wlp9s0 link
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>Connected to 00:00:00:00:00:00 (on wlp9s0)
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    SSID: GentooNode
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    freq: 2462
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    RX: 3279 bytes (25 packets)
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    TX: 1049 bytes (7 packets)
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>    signal: -23 dBm
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>    tx bitrate: 1.0 MBit/s
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>Some wireless cards may have a device name of wlan0 or ra0 instead of wlp9s0. Run <strong>ip link</strong> to determine the correct device name.</p>
<p>For most users, there are only two settings needed to connect, the ESSID (aka wireless network name) and, optionally, the WEP key.</p>
<ul>
<li>First, ensure the interface is active:</li>
</ul>
<p><code>root # ip link set dev wlp9s0 up</code></p>
<ul>
<li>To connect to an open network with the name GentooNode:</li>
</ul>
<p><code>root # iw dev wlp9s0 connect -w GentooNode</code></p>
<ul>
<li>To connect with a hex WEP key, prefix the key with d::</li>
</ul>
<p><code>root #iw dev wlp9s0 connect -w GentooNode key 0:d:1234123412341234abcd</code></p>
<ul>
<li>To connect with an ASCII WEP key:</li>
</ul>
<p><code>root #iw dev wlp9s0 connect -w GentooNode key 0:some-password</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>If the wireless network is set up with WPA or WPA2, then <strong>wpa_supplicant</strong> needs to be used. For more information on configuring wireless networking in Gentoo Linux, please read the Wireless networking chapter in the Gentoo Handbook.</p>
<p>Confirm the wireless settings by using iw dev wlp9s0 link. Once wireless is working, continue configuring the IP level networking options as described in the next section (Understanding network terminology) or use the <strong>net-setup</strong> tool as described previously.</p>
<h3 id="understanding-network-terminology">Understanding network terminology</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>If the IP address, broadcast address, netmask and nameservers are known, then skip this subsection and continue with Using ifconfig and route.</p>
<p>If all of the above fails, the network will need to be configured manually. This is not difficult at all. However, some knowledge of network terminology and basic concepts might be necessary. After reading this section, users will know what a gateway is, what a netmask serves for, how a broadcast address is formed and why systems need nameservers.</p>
<p>In a network, hosts are identified by their IP address (Internet Protocol address). Such an address is perceived as a combination of four numbers between 0 and 255. Well, at least when using IPv4 (IP version 4). In reality, such an IPv4 address consists of 32 bits (ones and zeros). Let's view an example:</p>
<div class="highlight"><span class="filename">CODE Example of an IPv4 address</span><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>IP<span class="w"> </span>Address<span class="w"> </span><span class="o">(</span>numbers<span class="o">)</span>:<span class="w">   </span><span class="m">192</span>.168.0.2
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>IP<span class="w"> </span>Address<span class="w"> </span><span class="o">(</span>bits<span class="o">)</span>:<span class="w">      </span><span class="m">11000000</span><span class="w"> </span><span class="m">10101000</span><span class="w"> </span><span class="m">00000000</span><span class="w"> </span><span class="m">00000010</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">                        </span>--------<span class="w"> </span>--------<span class="w"> </span>--------<span class="w"> </span>--------
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">                           </span><span class="m">192</span><span class="w">      </span><span class="m">168</span><span class="w">       </span><span class="m">0</span><span class="w">        </span><span class="m">2</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>The successor of IPv4, IPv6, uses 128 bits (ones and zeros). In this section, the focus is on IPv4 addresses.</p>
<p>Such an IP address is unique to a host as far as all accessible networks are concerned (i.e. every host that one wants to be able to reach must have a unique IP address). In order to distinguish between hosts inside and outside a network, the IP address is divided in two parts: the network part and the host part.</p>
<p>The separation is written down with the netmask, a collection of ones followed by a collection of zeros. The part of the IP that can be mapped on the ones is the network-part, the other one is the host-part. As usual, the netmask can be written down as an IP address.</p>
<div class="highlight"><span class="filename">CODE Example of network/host separation</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>IP<span class="w"> </span>address:<span class="w">    </span><span class="m">192</span><span class="w">      </span><span class="m">168</span><span class="w">      </span><span class="m">0</span><span class="w">         </span><span class="m">2</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">            </span><span class="m">11000000</span><span class="w"> </span><span class="m">10101000</span><span class="w"> </span><span class="m">00000000</span><span class="w"> </span><span class="m">00000010</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>Netmask:<span class="w">    </span><span class="m">11111111</span><span class="w"> </span><span class="m">11111111</span><span class="w"> </span><span class="m">11111111</span><span class="w"> </span><span class="m">00000000</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">               </span><span class="m">255</span><span class="w">      </span><span class="m">255</span><span class="w">     </span><span class="m">255</span><span class="w">        </span><span class="m">0</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">           </span>+--------------------------+--------+
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">                    </span>Network<span class="w">              </span>Host
</code></pre></div>
<p>In other words, 192.168.0.14 is part of the example network, but 192.168.1.2 is not.</p>
<p>The broadcast address is an IP address with the same network-part as the network, but with only ones as host-part. Every host on the network listens to this IP address. It is truly meant for broadcasting packets.</p>
<div class="highlight"><span class="filename">CODE Broadcast address</span><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>IP<span class="w"> </span>address:<span class="w">    </span><span class="m">192</span><span class="w">      </span><span class="m">168</span><span class="w">      </span><span class="m">0</span><span class="w">         </span><span class="m">2</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">            </span><span class="m">11000000</span><span class="w"> </span><span class="m">10101000</span><span class="w"> </span><span class="m">00000000</span><span class="w"> </span><span class="m">00000010</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Broadcast:<span class="w">  </span><span class="m">11000000</span><span class="w"> </span><span class="m">10101000</span><span class="w"> </span><span class="m">00000000</span><span class="w"> </span><span class="m">11111111</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">               </span><span class="m">192</span><span class="w">      </span><span class="m">168</span><span class="w">      </span><span class="m">0</span><span class="w">        </span><span class="m">255</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">           </span>+--------------------------+--------+
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">                     </span>Network<span class="w">             </span>Host
</code></pre></div>
<p>To be able to surf on the Internet, each computer in the network must know which host shares the Internet connection. This host is called the gateway. Since it is a regular host, it has a regular IP address (for instance 192.168.0.1).</p>
<p>Previously we stated that every host has its own IP address. To be able to reach this host by a name (instead of an IP address) we need a service that translates a name (such as dev.gentoo.org) to an IP address (such as 64.5.62.82). Such a service is called a name service. To use such a service, the necessary name servers need to be defined in /etc/resolv.conf.</p>
<p>In some cases, the gateway also serves as a nameserver. Otherwise the nameservers provided by the ISP need to be entered in this file.</p>
<p>To summarize, the following information is needed before continuing:</p>
<table>
<thead>
<tr>
<th>Network item</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>The system IP address</td>
<td>192.168.0.2</td>
</tr>
<tr>
<td>Netmask</td>
<td>255.255.255.0</td>
</tr>
<tr>
<td>Broadcast</td>
<td>192.168.0.255</td>
</tr>
<tr>
<td>Gateway</td>
<td>192.168.0.1</td>
</tr>
<tr>
<td>Nameserver(s)</td>
<td>195.130.130.5, 195.130.130.133</td>
</tr>
</tbody>
</table>
<h3 id="using-ifconfig-and-route">Using ifconfig and route</h3>
<p>Employing tools from the <a href="https://packages.gentoo.org/packages/sys-apps/net-tools">sys-apps/net-tools</a> package, setting up the network manually generally consists of three steps:</p>
<p>Assign an IP address using the <strong>ifconfig</strong> command.
Set up routing to the gateway using the <strong>route</strong> command.
Finish up by placing valid nameserver IPs in the /etc/resolv.conf file.
To assign an IP address, the IP address, broadcast address, and netmask are needed. Execute the following command, substituting <span BROADCAST="BROADCAST" class="arithmatex">\({IP_ADDR} with the target IP address, *\)</span><em> with the target broadcast address, and </em>${NETMASK}* with the target netmask:</p>
<p><code>root # ifconfig eth0 ${IP_ADDR} broadcast ${BROADCAST} netmask ${NETMASK} up</code></p>
<p>To configure routing using <strong>route</strong>, substitute the <em>${GATEWAY}</em> value with the appropriate gateway IP address:</p>
<p><code>root # route add default gw ${GATEWAY}</code></p>
<p>Now open the /etc/resolv.conf file using a text editor:</p>
<p><code>root # nano -w /etc/resolv.conf</code></p>
<p>Fill in the nameserver(s) using the following as a template substituting <em><span NAMESERVER2="NAMESERVER2" class="arithmatex">\({NAMESERVER1}* and *\)</span></em> with nameserver IP addresses as necessary. More than one nameserver can be added:</p>
<div class="highlight"><span class="filename">FILE /etc/resolv.conf **Default resolv.conf template**</span><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>nameserver ${NAMESERVER1}
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>nameserver ${NAMESERVER2}
</code></pre></div>
<p>Now test the network by pinging an Internet server (like Google's 8.8.8.8 or Cloudflare's 1.1.1.1). Once connected, continue with Preparing the disks.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://github.com/floviken"  target="_blank" rel="noopener">kaboli</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/floviken" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tracking", "navigation.sections", "navigation.sections", "navigation.expand", "navigation.top", "toc.integrate", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>